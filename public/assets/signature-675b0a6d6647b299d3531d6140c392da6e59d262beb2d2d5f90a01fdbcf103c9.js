!function(){function t(t){for(var e,n,i=t.css("color"),t=t[0],o=!1;t&&!n&&!o;){try{e=$(t).css("background-color")}catch(t){e="transparent"}"transparent"!==e&&"rgba(0, 0, 0, 0)"!==e&&(n=e),o=t.body,t=t.parentNode}var r,t=/rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/,o=/#([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})/;e=void 0,(e=i.match(t))?r={r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}:(e=i.match(o))&&(r={r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)});var s;return n?(e=void 0,(e=n.match(t))?s={r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}:(e=n.match(o))&&(s={r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)})):s=r&&127<Math.max.apply(null,[r.r,r.g,r.b])?{r:0,g:0,b:0}:{r:255,g:255,b:255},e=function(t){return"rgb("+[t.r,t.g,t.b].join(", ")+")"},r&&s?(t=Math.max.apply(null,[r.r,r.g,r.b]),r=Math.max.apply(null,[s.r,s.g,s.b]),r=Math.round(r+-.75*(r-t)),r={r:r,g:r,b:r}):r?(r=Math.max.apply(null,[r.r,r.g,r.b]),t=1,127<r&&(t=-1),r=Math.round(r+96*t),r={r:r,g:r,b:r}):r={r:191,g:191,b:191},{color:i,"background-color":s?e(s):n,"decor-color":e(r)}}function e(t,e){this.x=t,this.y=e,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var n=function(t){return Math.round(t/Math.abs(t))};this.resizeTo=function(t){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=t,this.y=t*n(this.y);else if(0===this.y)this._length=t,this.x=t*n(this.x);else{var e=Math.abs(this.y/this.x),i=Math.sqrt(Math.pow(t,2)/(1+Math.pow(e,2))),e=e*i;this._length=t,this.x=i*n(this.x),this.y=e*n(this.y)}return this},this.angleTo=function(t){var e=this.getLength()*t.getLength();return 0===e?0:Math.acos(Math.min(Math.max((this.x*t.x+this.y*t.y)/e,-1),1))/Math.PI}}function n(t,n){this.x=t,this.y=n,this.getVectorToCoordinates=function(t,n){return new e(t-this.x,n-this.y)},this.getVectorFromCoordinates=function(t,e){return this.getVectorToCoordinates(t,e).reverse()},this.getVectorToPoint=function(t){return new e(t.x-this.x,t.y-this.y)},this.getVectorFromPoint=function(t){return this.getVectorToPoint(t).reverse()}}function i(t,e,n,i,o){if(this.data=t,this.context=e,t.length)for(var r,s,a=t.length,h=0;h<a;h++){r=t[h],s=r.x.length,n.call(e,r);for(var u=1;u<s;u++)i.call(e,r,u);o.call(e,r)}this.changed=function(){},this.startStrokeFn=n,this.addToStrokeFn=i,this.endStrokeFn=o,this.inStroke=!1,this._stroke=this._lastPoint=null,this.startStroke=function(t){if(t&&"number"==typeof t.x&&"number"==typeof t.y){this._stroke={x:[t.x],y:[t.y]},this.data.push(this._stroke),this._lastPoint=t,this.inStroke=!0;var e=this._stroke,n=this.startStrokeFn,i=this.context;return setTimeout(function(){n.call(i,e)},3),t}return null},this.addToStroke=function(t){if(this.inStroke&&"number"==typeof t.x&&"number"==typeof t.y&&4<Math.abs(t.x-this._lastPoint.x)+Math.abs(t.y-this._lastPoint.y)){var e=this._stroke.x.length;this._stroke.x.push(t.x),this._stroke.y.push(t.y),this._lastPoint=t;var n=this._stroke,i=this.addToStrokeFn,o=this.context;return setTimeout(function(){i.call(o,n,e)},3),t}return null},this.endStroke=function(){var t=this.inStroke;if(this.inStroke=!1,this._lastPoint=null,t){var e=this._stroke,n=this.endStrokeFn,i=this.context,o=this.changed;return setTimeout(function(){n.call(i,e),o.call(i)},3),!0}return null}}function o(e,i,o){var h=this.$parent=$(e),e=this.eventTokens={};this.events=new a(this);var u=$.fn[r]("globalEvents"),c={width:"ratio",height:"ratio",sizeRatio:4,color:"#000","background-color":"#fff","decor-color":"#eee",lineWidth:0,minFatFingerCompensation:-10,showUndoButton:!1,data:[]};$.extend(c,t(h)),i&&$.extend(c,i),this.settings=c;for(var l in o)o.hasOwnProperty(l)&&o[l].call(this,l);this.events.publish(r+".initializing"),this.$controlbarUpper=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1em !important;margin-bottom:1em !important;"></div>').appendTo(h),this.isCanvasEmulator=!1,o=this.canvas=this.initializeCanvas(c),i=$(o),this.$controlbarLower=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1.5em !important;margin-bottom:1.5em !important;"></div>').appendTo(h),this.canvasContext=o.getContext("2d"),i.data(r+".this",this),h=(h=c.lineWidth)?h:Math.max(Math.round(o.width/400),2),c.lineWidth=h,this.lineCurveThreshold=3*c.lineWidth,c.cssclass&&""!=$.trim(c.cssclass)&&i.addClass(c.cssclass),this.fatFingerCompensation=0;var h=function(t){var e,i,o=function(o){return o=o.changedTouches&&0<o.changedTouches.length?o.changedTouches[0]:o,new n(Math.round(o.pageX+e),Math.round(o.pageY+i)+t.fatFingerCompensation)},r=new s(750,function(){t.dataEngine.endStroke()});return this.drawEndHandler=function(e){try{e.preventDefault()}catch(t){}r.clear(),t.dataEngine.endStroke()},this.drawStartHandler=function(n){n.preventDefault();var s=$(t.canvas).offset();e=-1*s.left,i=-1*s.top,t.dataEngine.startStroke(o(n)),r.kick()},this.drawMoveHandler=function(e){e.preventDefault(),t.dataEngine.inStroke&&(t.dataEngine.addToStroke(o(e)),r.kick())},this}.call({},this),p=h.drawEndHandler,d=h.drawStartHandler,f=h.drawMoveHandler,g=this.canvas,i=$(g);this.isCanvasEmulator?(i.bind("mousemove."+r,f),i.bind("mouseup."+r,p),i.bind("mousedown."+r,d)):(g.ontouchstart=function(t){g.onmousedown=void 0,g.onmouseup=void 0,g.onmousemove=void 0,this.fatFingerCompensation=c.minFatFingerCompensation&&-3*c.lineWidth>c.minFatFingerCompensation?-3*c.lineWidth:c.minFatFingerCompensation,d(t),g.ontouchend=p,g.ontouchstart=d,g.ontouchmove=f},g.onmousedown=function(t){g.ontouchstart=void 0,g.ontouchend=void 0,g.ontouchmove=void 0,d(t),g.onmousedown=d,g.onmouseup=p,g.onmousemove=f}),e[r+".windowmouseup"]=u.subscribe(r+".windowmouseup",h.drawEndHandler),this.events.publish(r+".attachingEventHandlers");var v=this,e=c.width.toString(10),y=r;return"ratio"!==e&&"%"!==e.split("")[e.length-1]||(this.eventTokens[y+".parentresized"]=u.subscribe(y+".parentresized",function(t,e,n){return function(){var i=e.width();if(i!==n){for(var o in t)t.hasOwnProperty(o)&&(u.unsubscribe(t[o]),delete t[o]);var r=v.settings;v.$parent.children().remove();for(o in v)v.hasOwnProperty(o)&&delete v[o];o=r.data;var s,a,h,c,l,p,i=1*i/n,d=[];for(a=0,h=o.length;a<h;a++){for(p=o[a],s={x:[],y:[]},c=0,l=p.x.length;c<l;c++)s.x.push(p.x[c]*i),s.y.push(p.y[c]*i);d.push(s)}r.data=d,e[y](r)}}}(this.eventTokens,this.$parent,this.$parent.width(),1*this.canvas.width/this.canvas.height))),this.resetCanvas(c.data),this.events.publish(r+".initialized"),this}var r="jSignature",s=function(t,e){var n;return this.kick=function(){clearTimeout(n),n=setTimeout(e,t)},this.clear=function(){clearTimeout(n)},this},a=function(t){this.topics={},this.context=t?t:this,this.publish=function(t){if(this.topics[t]){var e,n,i,o,r=this.topics[t],s=Array.prototype.slice.call(arguments,1),a=[];for(n=0,i=r.length;n<i;n++)o=r[n],e=o[0],o[1]&&(o[0]=function(){},a.push(n)),e.apply(this.context,s);for(n=0,i=a.length;n<i;n++)r.splice(a[n],1)}},this.subscribe=function(t,e,n){return this.topics[t]?this.topics[t].push([e,n]):this.topics[t]=[[e,n]],{topic:t,callback:e}},this.unsubscribe=function(t){if(this.topics[t.topic])for(var e=this.topics[t.topic],n=0,i=e.length;n<i;n++)e[n][0]===t.callback&&e.splice(n,1)}},h=function(t){var e=this.canvasContext,n=t.x[0],t=t.y[0],i=this.settings.lineWidth,o=e.fillStyle;e.fillStyle=e.strokeStyle,e.fillRect(n+i/-2,t+i/-2,i,i),e.fillStyle=o},u=function(t,i){var o=new n(t.x[i-1],t.y[i-1]),r=new n(t.x[i],t.y[i]),s=o.getVectorToPoint(r);if(1<i){var a,h=new n(t.x[i-2],t.y[i-2]),u=h.getVectorToPoint(o);if(u.getLength()>this.lineCurveThreshold){a=2<i?new n(t.x[i-3],t.y[i-3]).getVectorToPoint(h):new e(0,0);var c=.35*u.getLength(),l=u.angleTo(a.reverse()),p=s.angleTo(u.reverse());a=new e(a.x+u.x,a.y+u.y).resizeTo(Math.max(.05,l)*c);var d=new e(u.x+s.x,u.y+s.y).reverse().resizeTo(Math.max(.05,p)*c),u=this.canvasContext,c=h.x,p=h.y,l=o.x,f=o.y,g=h.x+a.x,h=h.y+a.y;a=o.x+d.x,d=o.y+d.y,u.beginPath(),u.moveTo(c,p),u.bezierCurveTo(g,h,a,d,l,f),u.stroke()}}s.getLength()<=this.lineCurveThreshold&&(s=this.canvasContext,h=o.x,o=o.y,a=r.x,r=r.y,s.beginPath(),s.moveTo(h,o),s.lineTo(a,r),s.stroke())},c=function(t){var i=t.x.length-1;if(0<i){var o=new n(t.x[i],t.y[i]),r=new n(t.x[i-1],t.y[i-1]),s=r.getVectorToPoint(o);if(s.getLength()>this.lineCurveThreshold){if(1<i){var t=new n(t.x[i-2],t.y[i-2]).getVectorToPoint(r),a=new e(t.x+s.x,t.y+s.y).resizeTo(s.getLength()/2),s=this.canvasContext,t=r.x,i=r.y,h=o.x,u=o.y,c=r.x+a.x,r=r.y+a.y,a=o.x,o=o.y;s.beginPath(),s.moveTo(t,i),s.bezierCurveTo(c,r,a,o,h,u)}else s=this.canvasContext,t=r.x,r=r.y,i=o.x,o=o.y,s.beginPath(),s.moveTo(t,r),s.lineTo(i,o);s.stroke()}}};o.prototype.resetCanvas=function(t){var e=this.canvas,n=this.settings,o=this.canvasContext,s=this.isCanvasEmulator,a=e.width,l=e.height;o.clearRect(0,0,a+30,l+30),o.shadowColor=o.fillStyle=n["background-color"],s&&o.fillRect(0,0,a+30,l+30),o.lineWidth=Math.ceil(parseInt(n.lineWidth,10)),o.lineCap=o.lineJoin="round",o.strokeStyle=n["decor-color"],o.shadowOffsetX=0,o.shadowOffsetY=0;var p=Math.round(l/5),d=1.5*p,f=l-p,a=a-1.5*p,l=l-p;o.beginPath(),o.moveTo(d,f),o.lineTo(a,l),o.stroke(),o.strokeStyle=n.color,s||(o.shadowColor=o.strokeStyle,o.shadowOffsetX=.5*o.lineWidth,o.shadowOffsetY=-.6*o.lineWidth,o.shadowBlur=0),t||(t=[]),o=this.dataEngine=new i(t,this,h,u,c),n.data=t,$(e).data(r+".data",t).data(r+".settings",n);var g=this.$parent,v=this.events,y=r;return o.changed=function(){v.publish(y+".change"),g.trigger("change")},o.changed(),!0},o.prototype.initializeCanvas=function(t){var e=document.createElement("canvas"),n=$(e);if(t.width===t.height&&"ratio"===t.height&&(t.width="100%"),n.css("margin",0).css("padding",0).css("border","none").css("height","ratio"!==t.height&&t.height?t.height.toString(10):1).css("width","ratio"!==t.width&&t.width?t.width.toString(10):1),n.appendTo(this.$parent),"ratio"===t.height?n.css("height",Math.round(n.width()/t.sizeRatio)):"ratio"===t.width&&n.css("width",Math.round(n.height()*t.sizeRatio)),n.addClass(r),e.width=n.width(),e.height=n.height(),t=e,t.getContext)t=!1;else{var n=t.ownerDocument.parentWindow,i=n.FlashCanvas?t.ownerDocument.parentWindow.FlashCanvas:"undefined"==typeof FlashCanvas?void 0:FlashCanvas;if(!i)throw Error("Canvas element does not support 2d context. jSignature cannot proceed.");if(t=i.initElement(t),i=1,n&&n.screen&&n.screen.deviceXDPI&&n.screen.logicalXDPI&&(i=1*n.screen.deviceXDPI/n.screen.logicalXDPI),1!==i)try{$(t).children("object").get(0).resize(Math.ceil(t.width*i),Math.ceil(t.height*i)),t.getContext("2d").scale(i,i)}catch(t){}t=!0}return this.isCanvasEmulator=t,e.onselectstart=function(t){return t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),!1},e};var l,p=window,d=function(t,e){var n=new Image,i=this;n.onload=function(){i.getContext("2d").drawImage(n,0,0,n.width<i.width?n.width:i.width,n.height<i.height?n.height:i.height)},n.src="data:"+e+","+t},f=function(t){return this.find("canvas."+r).add(this.filter("canvas."+r)).data(r+".this").resetCanvas(t),this},g=function(t,e){if(void 0!==e||"string"!=typeof t||"data:"!==t.substr(0,5)||(e=t.slice(5).split(",")[0],t=t.slice(6+e.length),e!==t)){var n=this.find("canvas."+r).add(this.filter("canvas."+r));if(!x.hasOwnProperty(e))throw Error(r+" is unable to find import plugin with for format '"+String(e)+"'");return 0!==n.length&&x[e].call(n[0],t,e,function(t){return function(){return t.resetCanvas.apply(t,arguments)}}(n.data(r+".this"))),this}},v=new a,y=r,m=function(){v.publish(y+".parentresized")};$(p).bind("resize."+y,function(){l&&clearTimeout(l),l=setTimeout(m,500)}).bind("mouseup."+y,function(){v.publish(y+".windowmouseup")});var w={},b={"default":function(){return this.toDataURL()},"native":function(t){return t},image:function(){var t=this.toDataURL();if("string"==typeof t&&4<t.length&&"data:"===t.slice(0,5)&&-1!==t.indexOf(",")){var e=t.indexOf(",");return[t.slice(5,e),t.substr(e+1)]}return[]}},x={"native":function(t,e,n){n(t)},image:d,"image/png;base64":d,"image/jpeg;base64":d,"image/jpg;base64":d},C={"export":b,"import":x,instance:w},S={init:function(t){return this.each(function(){var e,n=!1;for(e=this.parentNode;e&&!n;)n=e.body,e=e.parentNode;!n||new o(this,t,w)})},getSettings:function(){return this.find("canvas."+r).add(this.filter("canvas."+r)).data(r+".this").settings},clear:f,reset:f,addPlugin:function(t,e,n){return C.hasOwnProperty(t)&&(C[t][e]=n),this},listPlugins:function(t){var e=[];if(C.hasOwnProperty(t)){var n,t=C[t];for(n in t)t.hasOwnProperty(n)&&e.push(n)}return e},getData:function(t){var e=this.find("canvas."+r).add(this.filter("canvas."+r));if(void 0===t&&(t="default"),0!==e.length&&b.hasOwnProperty(t))return b[t].call(e.get(0),e.data(r+".data"))},importData:g,setData:g,globalEvents:function(){return v},events:function(){return this.find("canvas."+r).add(this.filter("canvas."+r)).data(r+".this").events}};$.fn[r]=function(t){return t&&"object"!=typeof t?"string"==typeof t&&S[t]?S[t].apply(this,Array.prototype.slice.call(arguments,1)):void $.error("Method "+String(t)+" does not exist on jQuery."+r):S.init.apply(this,arguments)}}(),function(){$.fn.jSignature("addPlugin","instance","UndoButton",function(t){this.events.subscribe("jSignature.attachingEventHandlers",function(){if(this.settings[t]){var e=this.settings[t];"function"!=typeof e&&(e=function(){var t=$('<input type="button" value="Undo last stroke" style="position:absolute;display:none;margin:0 !important;top:auto" />').appendTo(this.$controlbarLower),e=t.width();return t.css("left",Math.round((this.canvas.width-e)/2)),e!==t.width()&&t.width(e),t});var n=e.call(this),i=this;i.events.subscribe("jSignature.change",function(){i.dataEngine.data.length?n.show():n.hide()});var o=this,r=(this.events.topics.hasOwnProperty("jSignature.undo")?t:"jSignature")+".undo";n.bind("click",function(){o.events.publish(r)}),o.events.subscribe(r,function(){var t=o.dataEngine.data;t.length&&(t.pop(),o.resetCanvas(t))})}})})}(),function(){for(var t={},e={},n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX".split(""),i=n.length/2,o=i-1;-1<o;o--)t[n[o]]=n[o+i],e[n[o+i]]=n[o];var r=function(e){for(var e=e.split(""),n=e.length,i=1;i<n;i++)e[i]=t[e[i]];return e.join("")},s=function(t){for(var e,n,o=[],s=0,a=1,h=t.length,u=0;u<h;u++)e=Math.round(t[u]),n=e-s,s=e,0>n&&0<a?(a=-1,o.push("Z")):0<n&&0>a&&(a=1,o.push("Y")),e=Math.abs(n),e>=i?o.push(r(e.toString(i))):o.push(e.toString(i));return o.join("")},a=function(n){for(var o,r=[],n=n.split(""),s=n.length,a=1,h=[],u=0,c=0;c<s;c++)o=n[c],o in t||"Z"===o||"Y"===o?(0!==h.length&&(h=parseInt(h.join(""),i)*a+u,r.push(h),u=h),"Z"===o?(a=-1,h=[]):"Y"===o?(a=1,h=[]):h=[o]):h.push(e[o]);return r.push(parseInt(h.join(""),i)*a+u),r},h=function(t){for(var e,n=[],i=t.length,o=0;o<i;o++)e=t[o],n.push(s(e.x)),n.push(s(e.y));return n.join("_")},u=function(t){for(var e=[],t=t.split("_"),n=t.length/2,i=0;i<n;i++)e.push({x:a(t[2*i]),y:a(t[2*i+1])});return e},n=function(t){return["image/jsignature;base30",h(t)]},o=function(t,e,n){"string"==typeof t&&("image/jsignature;base30"===t.substring(0,23).toLowerCase()&&(t=t.substring(24)),n(u(t)))};if(null==this.jQuery)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");var c=this.jQuery.fn.jSignature;c("addPlugin","export","base30",n),c("addPlugin","export","image/jsignature;base30",n),c("addPlugin","import","base30",o),c("addPlugin","import","image/jsignature;base30",o),this.jSignatureDebug&&(this.jSignatureDebug.base30={remapTailChars:r,compressstrokeleg:s,uncompressstrokeleg:a,compressstrokes:h,uncompressstrokes:u,charmap:t})}.call("undefined"!=typeof window?window:this),function(){function t(t,e){this.x=t,this.y=e,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var n=function(t){return Math.round(t/Math.abs(t))};this.resizeTo=function(t){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=t,this.y=t*n(this.y);else if(0===this.y)this._length=t,this.x=t*n(this.x);else{var e=Math.abs(this.y/this.x),i=Math.sqrt(Math.pow(t,2)/(1+Math.pow(e,2))),e=e*i;this._length=t,this.x=i*n(this.x),this.y=e*n(this.y)}return this},this.angleTo=function(t){var e=this.getLength()*t.getLength();return 0===e?0:Math.acos(Math.min(Math.max((this.x*t.x+this.y*t.y)/e,-1),1))/Math.PI}}function e(e,n){this.x=e,this.y=n,this.getVectorToCoordinates=function(e,n){return new t(e-this.x,n-this.y)},this.getVectorFromCoordinates=function(t,e){return this.getVectorToCoordinates(t,e).reverse()},this.getVectorToPoint=function(e){return new t(e.x-this.x,e.y-this.y)},this.getVectorFromPoint=function(t){return this.getVectorToPoint(t).reverse()}}function n(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function i(i,o,r){var o=o+1,s=new e(i.x[o-1],i.y[o-1]),a=new e(i.x[o],i.y[o]),a=s.getVectorToPoint(a),h=new e(i.x[o-2],i.y[o-2]),s=h.getVectorToPoint(s);return s.getLength()>r?(r=2<o?new e(i.x[o-3],i.y[o-3]).getVectorToPoint(h):new t(0,0),i=.35*s.getLength(),h=s.angleTo(r.reverse()),o=a.angleTo(s.reverse()),r=new t(r.x+s.x,r.y+s.y).resizeTo(Math.max(.05,h)*i),a=new t(s.x+a.x,s.y+a.y).reverse().resizeTo(Math.max(.05,o)*i),a=new t(s.x+a.x,s.y+a.y),["c",n(r.x,2),n(r.y,2),n(a.x,2),n(a.y,2),n(s.x,2),n(s.y,2)]):["l",n(s.x,2),n(s.y,2)]}function o(i,o){var r=i.x.length-1,s=new e(i.x[r],i.y[r]),a=new e(i.x[r-1],i.y[r-1]),s=a.getVectorToPoint(s);if(1<r&&s.getLength()>o){var r=new e(i.x[r-2],i.y[r-2]).getVectorToPoint(a),a=s.angleTo(r.reverse()),h=.35*s.getLength(),r=new t(r.x+s.x,r.y+s.y).resizeTo(Math.max(.05,a)*h);return["c",n(r.x,2),n(r.y,2),n(s.x,2),n(s.y,2),n(s.x,2),n(s.y,2)]}return["l",n(s.x,2),n(s.y,2)]}function r(t,e,r){for(var e=["M",n(t.x[0]-e,2),n(t.y[0]-r,2)],r=1,s=t.x.length-1;r<s;r++)e.push.apply(e,i(t,r,1));return 0<s?e.push.apply(e,o(t,r,1)):0===s&&e.push.apply(e,["l",1,1]),e.join(" ")}function s(t){var e,n,i=['<?xml version="1.0" encoding="UTF-8" standalone="no"?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'],o=t.length,s=[],a=[],h=n=e=0,u=0,c=[];if(0!==o){for(e=0;e<o;e++){h=t[e],u=[],n={x:[],y:[]};for(var l=void 0,p=void 0,l=0,p=h.x.length;l<p;l++)u.push({x:h.x[l],y:h.y[l]});for(u=simplify(u,.7,!0),l=0,p=u.length;l<p;l++)n.x.push(u[l].x),n.y.push(u[l].y);c.push(n),s=s.concat(n.x),a=a.concat(n.y)}t=Math.min.apply(null,s)-1,o=Math.max.apply(null,s)+1,s=Math.min.apply(null,a)-1,a=Math.max.apply(null,a)+1,h=0>t?0:t,u=0>s?0:s,e=o-t,n=a-s}for(i.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+e.toString()+'" height="'+n.toString()+'">'),e=0,o=c.length;e<o;e++)n=c[e],i.push('<path fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="'+r(n,h,u)+'"/>');return i.push("</svg>"),i.join("")}function a(t){return[l,s(t)]}function h(t){return[p,c(s(t))]}var u=window;if(("undefined"!=typeof exports?exports:u).simplify=function(t,e,n){if(e=void 0!==e?e*e:1,!n){for(var i,o=t.length,r=t[0],s=[r],n=1;n<o;n++){i=t[n];var a=i.x-r.x,h=i.y-r.y;a*a+h*h>e&&(s.push(i),r=i)}r!==i&&s.push(i),t=s}i=t;var u,c,n=i.length,o=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(n),r=0,s=n-1,l=[],p=[],d=[];for(o[r]=o[s]=1;s;){for(h=0,a=r+1;a<s;a++){u=i[a];var f=i[r],g=i[s],v=f.x,y=f.y,f=g.x-v,m=g.y-y,w=void 0;0===f&&0===m||(w=((u.x-v)*f+(u.y-y)*m)/(f*f+m*m),1<w?(v=g.x,y=g.y):0<w&&(v+=f*w,y+=m*w)),f=u.x-v,m=u.y-y,u=f*f+m*m,u>h&&(c=a,h=u)}h>e&&(o[c]=1,l.push(r),p.push(c),l.push(c),p.push(s)),r=l.pop(),s=p.pop()}for(a=0;a<n;a++)o[a]&&d.push(i[a]);return t=d},"function"!=typeof c)var c=function(t){var e,n,i,o,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),s=0,a=0,h="",h=[];do e=t.charCodeAt(s++),n=t.charCodeAt(s++),i=t.charCodeAt(s++),o=e<<16|n<<8|i,e=o>>18&63,n=o>>12&63,i=o>>6&63,o&=63,h[a++]=r[e]+r[n]+r[i]+r[o];while(s<t.length);return h=h.join(""),t=t.length%3,(t?h.slice(0,t-3):h)+"===".slice(t||3)};var l="image/svg+xml",p="image/svg+xml;base64";if("undefined"==typeof $)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");u=$.fn.jSignature,u("addPlugin","export","svg",a),u("addPlugin","export",l,a),u("addPlugin","export","svgbase64",h),u("addPlugin","export",p,h)}(),function(t){!function(){function e(e){for(var n,i,o=e.css("color"),e=e[0],r=!1;e&&!i&&!r;){try{n=t(e).css("background-color")}catch(t){n="transparent"}"transparent"!==n&&"rgba(0, 0, 0, 0)"!==n&&(i=n),r=e.body,e=e.parentNode}var s,e=/rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/,r=/#([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})/;n=void 0,(n=o.match(e))?s={r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10)}:(n=o.match(r))&&(s={r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)});var a;return i?(n=void 0,(n=i.match(e))?a={r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10)}:(n=i.match(r))&&(a={r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)})):a=s&&127<Math.max.apply(null,[s.r,s.g,s.b])?{r:0,g:0,b:0}:{r:255,g:255,b:255},n=function(t){return"rgb("+[t.r,t.g,t.b].join(", ")+")"},s&&a?(e=Math.max.apply(null,[s.r,s.g,s.b]),s=Math.max.apply(null,[a.r,a.g,a.b]),s=Math.round(s+-.75*(s-e)),s={r:s,g:s,b:s}):s?(s=Math.max.apply(null,[s.r,s.g,s.b]),e=1,127<s&&(e=-1),s=Math.round(s+96*e),s={r:s,g:s,b:s}):s={r:191,g:191,b:191},{color:o,"background-color":a?n(a):i,"decor-color":n(s)}}function n(t,e){this.x=t,this.y=e,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var n=function(t){return Math.round(t/Math.abs(t))};this.resizeTo=function(t){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=t,this.y=t*n(this.y);else if(0===this.y)this._length=t,this.x=t*n(this.x);else{var e=Math.abs(this.y/this.x),i=Math.sqrt(Math.pow(t,2)/(1+Math.pow(e,2))),e=e*i;this._length=t,this.x=i*n(this.x),this.y=e*n(this.y)}return this},this.angleTo=function(t){var e=this.getLength()*t.getLength();return 0===e?0:Math.acos(Math.min(Math.max((this.x*t.x+this.y*t.y)/e,-1),1))/Math.PI}}function i(t,e){this.x=t,this.y=e,this.getVectorToCoordinates=function(t,e){return new n(t-this.x,e-this.y)},this.getVectorFromCoordinates=function(t,e){return this.getVectorToCoordinates(t,e).reverse()},this.getVectorToPoint=function(t){return new n(t.x-this.x,t.y-this.y)},this.getVectorFromPoint=function(t){return this.getVectorToPoint(t).reverse()}}function o(t,e,n,i,o){if(this.data=t,this.context=e,t.length)for(var r,s,a=t.length,h=0;h<a;h++){r=t[h],s=r.x.length,n.call(e,r);for(var u=1;u<s;u++)i.call(e,r,u);o.call(e,r)}this.changed=function(){},this.startStrokeFn=n,this.addToStrokeFn=i,this.endStrokeFn=o,this.inStroke=!1,this._stroke=this._lastPoint=null,this.startStroke=function(t){if(t&&"number"==typeof t.x&&"number"==typeof t.y){this._stroke={x:[t.x],y:[t.y]},this.data.push(this._stroke),this._lastPoint=t,this.inStroke=!0;var e=this._stroke,n=this.startStrokeFn,i=this.context;return setTimeout(function(){n.call(i,e)},3),t}return null},this.addToStroke=function(t){if(this.inStroke&&"number"==typeof t.x&&"number"==typeof t.y&&4<Math.abs(t.x-this._lastPoint.x)+Math.abs(t.y-this._lastPoint.y)){var e=this._stroke.x.length;this._stroke.x.push(t.x),this._stroke.y.push(t.y),this._lastPoint=t;var n=this._stroke,i=this.addToStrokeFn,o=this.context;return setTimeout(function(){i.call(o,n,e)},3),t}return null},this.endStroke=function(){var t=this.inStroke;if(this.inStroke=!1,this._lastPoint=null,t){var e=this._stroke,n=this.endStrokeFn,i=this.context,o=this.changed;return setTimeout(function(){n.call(i,e),o.call(i)},3),!0}return null}}function r(n,o,r){var u=this.$parent=t(n),n=this.eventTokens={};this.events=new h(this);var c=t.fn[s]("globalEvents"),l={width:"ratio",height:"ratio",sizeRatio:4,color:"#000","background-color":"#fff","decor-color":"#eee",lineWidth:0,minFatFingerCompensation:-10,showUndoButton:!1,data:[]};t.extend(l,e(u)),o&&t.extend(l,o),this.settings=l;for(var p in r)r.hasOwnProperty(p)&&r[p].call(this,p);this.events.publish(s+".initializing"),this.$controlbarUpper=t('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1em !important;margin-bottom:1em !important;"></div>').appendTo(u),this.isCanvasEmulator=!1,r=this.canvas=this.initializeCanvas(l),o=t(r),this.$controlbarLower=t('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1.5em !important;margin-bottom:1.5em !important;"></div>').appendTo(u),this.canvasContext=r.getContext("2d"),o.data(s+".this",this),u=(u=l.lineWidth)?u:Math.max(Math.round(r.width/400),2),l.lineWidth=u,this.lineCurveThreshold=3*l.lineWidth,l.cssclass&&""!=t.trim(l.cssclass)&&o.addClass(l.cssclass),this.fatFingerCompensation=0;var u=function(e){var n,o,r=function(t){return t=t.changedTouches&&0<t.changedTouches.length?t.changedTouches[0]:t,new i(Math.round(t.pageX+n),Math.round(t.pageY+o)+e.fatFingerCompensation)},s=new a(750,function(){e.dataEngine.endStroke()});return this.drawEndHandler=function(t){try{t.preventDefault()}catch(t){}s.clear(),e.dataEngine.endStroke()},this.drawStartHandler=function(i){i.preventDefault();var a=t(e.canvas).offset();n=-1*a.left,o=-1*a.top,e.dataEngine.startStroke(r(i)),s.kick()},this.drawMoveHandler=function(t){t.preventDefault(),e.dataEngine.inStroke&&(e.dataEngine.addToStroke(r(t)),s.kick())},this}.call({},this),d=u.drawEndHandler,f=u.drawStartHandler,g=u.drawMoveHandler,v=this.canvas,o=t(v);this.isCanvasEmulator?(o.bind("mousemove."+s,g),o.bind("mouseup."+s,d),o.bind("mousedown."+s,f)):(v.ontouchstart=function(t){v.onmousedown=void 0,v.onmouseup=void 0,v.onmousemove=void 0,this.fatFingerCompensation=l.minFatFingerCompensation&&-3*l.lineWidth>l.minFatFingerCompensation?-3*l.lineWidth:l.minFatFingerCompensation,f(t),v.ontouchend=d,v.ontouchstart=f,v.ontouchmove=g},v.onmousedown=function(t){v.ontouchstart=void 0,v.ontouchend=void 0,v.ontouchmove=void 0,f(t),v.onmousedown=f,v.onmouseup=d,v.onmousemove=g}),n[s+".windowmouseup"]=c.subscribe(s+".windowmouseup",u.drawEndHandler),this.events.publish(s+".attachingEventHandlers");var y=this,n=l.width.toString(10),m=s;return"ratio"!==n&&"%"!==n.split("")[n.length-1]||(this.eventTokens[m+".parentresized"]=c.subscribe(m+".parentresized",function(t,e,n){return function(){var i=e.width();if(i!==n){for(var o in t)t.hasOwnProperty(o)&&(c.unsubscribe(t[o]),delete t[o]);var r=y.settings;y.$parent.children().remove();for(o in y)y.hasOwnProperty(o)&&delete y[o];o=r.data;var s,a,h,u,l,p,i=1*i/n,d=[];for(a=0,h=o.length;a<h;a++){for(p=o[a],s={x:[],y:[]},u=0,l=p.x.length;u<l;u++)s.x.push(p.x[u]*i),s.y.push(p.y[u]*i);d.push(s)}r.data=d,e[m](r)}}}(this.eventTokens,this.$parent,this.$parent.width(),1*this.canvas.width/this.canvas.height))),this.resetCanvas(l.data),this.events.publish(s+".initialized"),this}var s="jSignature",a=function(t,e){var n;return this.kick=function(){clearTimeout(n),n=setTimeout(e,t)},this.clear=function(){clearTimeout(n)},this},h=function(t){this.topics={},this.context=t?t:this,this.publish=function(t){if(this.topics[t]){var e,n,i,o,r=this.topics[t],s=Array.prototype.slice.call(arguments,1),a=[];for(n=0,i=r.length;n<i;n++)o=r[n],e=o[0],o[1]&&(o[0]=function(){},a.push(n)),e.apply(this.context,s);for(n=0,i=a.length;n<i;n++)r.splice(a[n],1)}},this.subscribe=function(t,e,n){return this.topics[t]?this.topics[t].push([e,n]):this.topics[t]=[[e,n]],{topic:t,callback:e}},this.unsubscribe=function(t){if(this.topics[t.topic])for(var e=this.topics[t.topic],n=0,i=e.length;n<i;n++)e[n][0]===t.callback&&e.splice(n,1)}},u=function(t){var e=this.canvasContext,n=t.x[0],t=t.y[0],i=this.settings.lineWidth,o=e.fillStyle;e.fillStyle=e.strokeStyle,e.fillRect(n+i/-2,t+i/-2,i,i),e.fillStyle=o},c=function(t,e){var o=new i(t.x[e-1],t.y[e-1]),r=new i(t.x[e],t.y[e]),s=o.getVectorToPoint(r);if(1<e){var a,h=new i(t.x[e-2],t.y[e-2]),u=h.getVectorToPoint(o);if(u.getLength()>this.lineCurveThreshold){a=2<e?new i(t.x[e-3],t.y[e-3]).getVectorToPoint(h):new n(0,0);var c=.35*u.getLength(),l=u.angleTo(a.reverse()),p=s.angleTo(u.reverse());a=new n(a.x+u.x,a.y+u.y).resizeTo(Math.max(.05,l)*c);var d=new n(u.x+s.x,u.y+s.y).reverse().resizeTo(Math.max(.05,p)*c),u=this.canvasContext,c=h.x,p=h.y,l=o.x,f=o.y,g=h.x+a.x,h=h.y+a.y;a=o.x+d.x,d=o.y+d.y,u.beginPath(),u.moveTo(c,p),u.bezierCurveTo(g,h,a,d,l,f),u.stroke()}}s.getLength()<=this.lineCurveThreshold&&(s=this.canvasContext,h=o.x,o=o.y,a=r.x,r=r.y,s.beginPath(),s.moveTo(h,o),s.lineTo(a,r),s.stroke())},l=function(t){var e=t.x.length-1;if(0<e){var o=new i(t.x[e],t.y[e]),r=new i(t.x[e-1],t.y[e-1]),s=r.getVectorToPoint(o);if(s.getLength()>this.lineCurveThreshold){if(1<e){var t=new i(t.x[e-2],t.y[e-2]).getVectorToPoint(r),a=new n(t.x+s.x,t.y+s.y).resizeTo(s.getLength()/2),s=this.canvasContext,t=r.x,e=r.y,h=o.x,u=o.y,c=r.x+a.x,r=r.y+a.y,a=o.x,o=o.y;s.beginPath(),s.moveTo(t,e),s.bezierCurveTo(c,r,a,o,h,u)}else s=this.canvasContext,t=r.x,r=r.y,e=o.x,o=o.y,s.beginPath(),s.moveTo(t,r),s.lineTo(e,o);s.stroke()}}};r.prototype.resetCanvas=function(e){var n=this.canvas,i=this.settings,r=this.canvasContext,a=this.isCanvasEmulator,h=n.width,p=n.height;r.clearRect(0,0,h+30,p+30),r.shadowColor=r.fillStyle=i["background-color"],a&&r.fillRect(0,0,h+30,p+30),r.lineWidth=Math.ceil(parseInt(i.lineWidth,10)),r.lineCap=r.lineJoin="round",r.strokeStyle=i["decor-color"],r.shadowOffsetX=0,r.shadowOffsetY=0;var d=Math.round(p/5),f=1.5*d,g=p-d,h=h-1.5*d,p=p-d;r.beginPath(),r.moveTo(f,g),r.lineTo(h,p),r.stroke(),r.strokeStyle=i.color,a||(r.shadowColor=r.strokeStyle,r.shadowOffsetX=.5*r.lineWidth,r.shadowOffsetY=-.6*r.lineWidth,r.shadowBlur=0),e||(e=[]),r=this.dataEngine=new o(e,this,u,c,l),i.data=e,t(n).data(s+".data",e).data(s+".settings",i);var v=this.$parent,y=this.events,m=s;return r.changed=function(){y.publish(m+".change"),v.trigger("change")},r.changed(),!0},r.prototype.initializeCanvas=function(e){var n=document.createElement("canvas"),i=t(n);if(e.width===e.height&&"ratio"===e.height&&(e.width="100%"),i.css("margin",0).css("padding",0).css("border","none").css("height","ratio"!==e.height&&e.height?e.height.toString(10):1).css("width","ratio"!==e.width&&e.width?e.width.toString(10):1),i.appendTo(this.$parent),"ratio"===e.height?i.css("height",Math.round(i.width()/e.sizeRatio)):"ratio"===e.width&&i.css("width",Math.round(i.height()*e.sizeRatio)),i.addClass(s),n.width=i.width(),n.height=i.height(),e=n,e.getContext)e=!1;else{var i=e.ownerDocument.parentWindow,o=i.FlashCanvas?e.ownerDocument.parentWindow.FlashCanvas:"undefined"==typeof FlashCanvas?void 0:FlashCanvas;if(!o)throw Error("Canvas element does not support 2d context. jSignature cannot proceed.");if(e=o.initElement(e),o=1,i&&i.screen&&i.screen.deviceXDPI&&i.screen.logicalXDPI&&(o=1*i.screen.deviceXDPI/i.screen.logicalXDPI),1!==o)try{t(e).children("object").get(0).resize(Math.ceil(e.width*o),Math.ceil(e.height*o)),e.getContext("2d").scale(o,o)}catch(t){}e=!0}return this.isCanvasEmulator=e,n.onselectstart=function(t){return t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),!1},n};var p,d=window,f=function(t,e){var n=new Image,i=this;n.onload=function(){i.getContext("2d").drawImage(n,0,0,n.width<i.width?n.width:i.width,n.height<i.height?n.height:i.height)},n.src="data:"+e+","+t},g=function(t){return this.find("canvas."+s).add(this.filter("canvas."+s)).data(s+".this").resetCanvas(t),this},v=function(t,e){if(void 0!==e||"string"!=typeof t||"data:"!==t.substr(0,5)||(e=t.slice(5).split(",")[0],t=t.slice(6+e.length),e!==t)){var n=this.find("canvas."+s).add(this.filter("canvas."+s));if(!C.hasOwnProperty(e))throw Error(s+" is unable to find import plugin with for format '"+String(e)+"'");return 0!==n.length&&C[e].call(n[0],t,e,function(t){return function(){return t.resetCanvas.apply(t,arguments)}}(n.data(s+".this"))),this}},y=new h,m=s,w=function(){y.publish(m+".parentresized")};t(d).bind("resize."+m,function(){p&&clearTimeout(p),p=setTimeout(w,500)}).bind("mouseup."+m,function(){y.publish(m+".windowmouseup")});var b={},x={"default":function(){return this.toDataURL()},"native":function(t){return t},image:function(){var t=this.toDataURL();if("string"==typeof t&&4<t.length&&"data:"===t.slice(0,5)&&-1!==t.indexOf(",")){var e=t.indexOf(",");return[t.slice(5,e),t.substr(e+1)]}return[];
}},C={"native":function(t,e,n){n(t)},image:f,"image/png;base64":f,"image/jpeg;base64":f,"image/jpg;base64":f},S={"export":x,"import":C,instance:b},_={init:function(t){return this.each(function(){var e,n=!1;for(e=this.parentNode;e&&!n;)n=e.body,e=e.parentNode;!n||new r(this,t,b)})},getSettings:function(){return this.find("canvas."+s).add(this.filter("canvas."+s)).data(s+".this").settings},clear:g,reset:g,addPlugin:function(t,e,n){return S.hasOwnProperty(t)&&(S[t][e]=n),this},listPlugins:function(t){var e=[];if(S.hasOwnProperty(t)){var n,t=S[t];for(n in t)t.hasOwnProperty(n)&&e.push(n)}return e},getData:function(t){var e=this.find("canvas."+s).add(this.filter("canvas."+s));if(void 0===t&&(t="default"),0!==e.length&&x.hasOwnProperty(t))return x[t].call(e.get(0),e.data(s+".data"))},importData:v,setData:v,globalEvents:function(){return y},events:function(){return this.find("canvas."+s).add(this.filter("canvas."+s)).data(s+".this").events}};t.fn[s]=function(e){return e&&"object"!=typeof e?"string"==typeof e&&_[e]?_[e].apply(this,Array.prototype.slice.call(arguments,1)):void t.error("Method "+String(e)+" does not exist on jQuery."+s):_.init.apply(this,arguments)}}(),function(){t.fn.jSignature("addPlugin","instance","UndoButton",function(e){this.events.subscribe("jSignature.attachingEventHandlers",function(){if(this.settings[e]){var n=this.settings[e];"function"!=typeof n&&(n=function(){var e=t('<input type="button" value="Undo last stroke" style="position:absolute;display:none;margin:0 !important;top:auto" />').appendTo(this.$controlbarLower),n=e.width();return e.css("left",Math.round((this.canvas.width-n)/2)),n!==e.width()&&e.width(n),e});var i=n.call(this),o=this;o.events.subscribe("jSignature.change",function(){o.dataEngine.data.length?i.show():i.hide()});var r=this,s=(this.events.topics.hasOwnProperty("jSignature.undo")?e:"jSignature")+".undo";i.bind("click",function(){r.events.publish(s)}),r.events.subscribe(s,function(){var t=r.dataEngine.data;t.length&&(t.pop(),r.resetCanvas(t))})}})})}(),function(){for(var t={},e={},n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX".split(""),i=n.length/2,o=i-1;-1<o;o--)t[n[o]]=n[o+i],e[n[o+i]]=n[o];var r=function(e){for(var e=e.split(""),n=e.length,i=1;i<n;i++)e[i]=t[e[i]];return e.join("")},s=function(t){for(var e,n,o=[],s=0,a=1,h=t.length,u=0;u<h;u++)e=Math.round(t[u]),n=e-s,s=e,0>n&&0<a?(a=-1,o.push("Z")):0<n&&0>a&&(a=1,o.push("Y")),e=Math.abs(n),e>=i?o.push(r(e.toString(i))):o.push(e.toString(i));return o.join("")},a=function(n){for(var o,r=[],n=n.split(""),s=n.length,a=1,h=[],u=0,c=0;c<s;c++)o=n[c],o in t||"Z"===o||"Y"===o?(0!==h.length&&(h=parseInt(h.join(""),i)*a+u,r.push(h),u=h),"Z"===o?(a=-1,h=[]):"Y"===o?(a=1,h=[]):h=[o]):h.push(e[o]);return r.push(parseInt(h.join(""),i)*a+u),r},h=function(t){for(var e,n=[],i=t.length,o=0;o<i;o++)e=t[o],n.push(s(e.x)),n.push(s(e.y));return n.join("_")},u=function(t){for(var e=[],t=t.split("_"),n=t.length/2,i=0;i<n;i++)e.push({x:a(t[2*i]),y:a(t[2*i+1])});return e},n=function(t){return["image/jsignature;base30",h(t)]},o=function(t,e,n){"string"==typeof t&&("image/jsignature;base30"===t.substring(0,23).toLowerCase()&&(t=t.substring(24)),n(u(t)))};if(null==this.jQuery)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");var c=this.jQuery.fn.jSignature;c("addPlugin","export","base30",n),c("addPlugin","export","image/jsignature;base30",n),c("addPlugin","import","base30",o),c("addPlugin","import","image/jsignature;base30",o),this.jSignatureDebug&&(this.jSignatureDebug.base30={remapTailChars:r,compressstrokeleg:s,uncompressstrokeleg:a,compressstrokes:h,uncompressstrokes:u,charmap:t})}.call("undefined"!=typeof window?window:this),function(){function e(t,e){this.x=t,this.y=e,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var n=function(t){return Math.round(t/Math.abs(t))};this.resizeTo=function(t){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=t,this.y=t*n(this.y);else if(0===this.y)this._length=t,this.x=t*n(this.x);else{var e=Math.abs(this.y/this.x),i=Math.sqrt(Math.pow(t,2)/(1+Math.pow(e,2))),e=e*i;this._length=t,this.x=i*n(this.x),this.y=e*n(this.y)}return this},this.angleTo=function(t){var e=this.getLength()*t.getLength();return 0===e?0:Math.acos(Math.min(Math.max((this.x*t.x+this.y*t.y)/e,-1),1))/Math.PI}}function n(t,n){this.x=t,this.y=n,this.getVectorToCoordinates=function(t,n){return new e(t-this.x,n-this.y)},this.getVectorFromCoordinates=function(t,e){return this.getVectorToCoordinates(t,e).reverse()},this.getVectorToPoint=function(t){return new e(t.x-this.x,t.y-this.y)},this.getVectorFromPoint=function(t){return this.getVectorToPoint(t).reverse()}}function i(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function o(t,o,r){var o=o+1,s=new n(t.x[o-1],t.y[o-1]),a=new n(t.x[o],t.y[o]),a=s.getVectorToPoint(a),h=new n(t.x[o-2],t.y[o-2]),s=h.getVectorToPoint(s);return s.getLength()>r?(r=2<o?new n(t.x[o-3],t.y[o-3]).getVectorToPoint(h):new e(0,0),t=.35*s.getLength(),h=s.angleTo(r.reverse()),o=a.angleTo(s.reverse()),r=new e(r.x+s.x,r.y+s.y).resizeTo(Math.max(.05,h)*t),a=new e(s.x+a.x,s.y+a.y).reverse().resizeTo(Math.max(.05,o)*t),a=new e(s.x+a.x,s.y+a.y),["c",i(r.x,2),i(r.y,2),i(a.x,2),i(a.y,2),i(s.x,2),i(s.y,2)]):["l",i(s.x,2),i(s.y,2)]}function r(t,o){var r=t.x.length-1,s=new n(t.x[r],t.y[r]),a=new n(t.x[r-1],t.y[r-1]),s=a.getVectorToPoint(s);if(1<r&&s.getLength()>o){var r=new n(t.x[r-2],t.y[r-2]).getVectorToPoint(a),a=s.angleTo(r.reverse()),h=.35*s.getLength(),r=new e(r.x+s.x,r.y+s.y).resizeTo(Math.max(.05,a)*h);return["c",i(r.x,2),i(r.y,2),i(s.x,2),i(s.y,2),i(s.x,2),i(s.y,2)]}return["l",i(s.x,2),i(s.y,2)]}function s(t,e,n){for(var e=["M",i(t.x[0]-e,2),i(t.y[0]-n,2)],n=1,s=t.x.length-1;n<s;n++)e.push.apply(e,o(t,n,1));return 0<s?e.push.apply(e,r(t,n,1)):0===s&&e.push.apply(e,["l",1,1]),e.join(" ")}function a(t){var e,n,i=['<?xml version="1.0" encoding="UTF-8" standalone="no"?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'],o=t.length,r=[],a=[],h=n=e=0,u=0,c=[];if(0!==o){for(e=0;e<o;e++){h=t[e],u=[],n={x:[],y:[]};for(var l=void 0,p=void 0,l=0,p=h.x.length;l<p;l++)u.push({x:h.x[l],y:h.y[l]});for(u=simplify(u,.7,!0),l=0,p=u.length;l<p;l++)n.x.push(u[l].x),n.y.push(u[l].y);c.push(n),r=r.concat(n.x),a=a.concat(n.y)}t=Math.min.apply(null,r)-1,o=Math.max.apply(null,r)+1,r=Math.min.apply(null,a)-1,a=Math.max.apply(null,a)+1,h=0>t?0:t,u=0>r?0:r,e=o-t,n=a-r}for(i.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+e.toString()+'" height="'+n.toString()+'">'),e=0,o=c.length;e<o;e++)n=c[e],i.push('<path fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="'+s(n,h,u)+'"/>');return i.push("</svg>"),i.join("")}function h(t){return[p,a(t)]}function u(t){return[d,l(a(t))]}var c=window;if(("undefined"!=typeof exports?exports:c).simplify=function(t,e,n){if(e=void 0!==e?e*e:1,!n){for(var i,o=t.length,r=t[0],s=[r],n=1;n<o;n++){i=t[n];var a=i.x-r.x,h=i.y-r.y;a*a+h*h>e&&(s.push(i),r=i)}r!==i&&s.push(i),t=s}i=t;var u,c,n=i.length,o=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(n),r=0,s=n-1,l=[],p=[],d=[];for(o[r]=o[s]=1;s;){for(h=0,a=r+1;a<s;a++){u=i[a];var f=i[r],g=i[s],v=f.x,y=f.y,f=g.x-v,m=g.y-y,w=void 0;0===f&&0===m||(w=((u.x-v)*f+(u.y-y)*m)/(f*f+m*m),1<w?(v=g.x,y=g.y):0<w&&(v+=f*w,y+=m*w)),f=u.x-v,m=u.y-y,u=f*f+m*m,u>h&&(c=a,h=u)}h>e&&(o[c]=1,l.push(r),p.push(c),l.push(c),p.push(s)),r=l.pop(),s=p.pop()}for(a=0;a<n;a++)o[a]&&d.push(i[a]);return t=d},"function"!=typeof l)var l=function(t){var e,n,i,o,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),s=0,a=0,h="",h=[];do e=t.charCodeAt(s++),n=t.charCodeAt(s++),i=t.charCodeAt(s++),o=e<<16|n<<8|i,e=o>>18&63,n=o>>12&63,i=o>>6&63,o&=63,h[a++]=r[e]+r[n]+r[i]+r[o];while(s<t.length);return h=h.join(""),t=t.length%3,(t?h.slice(0,t-3):h)+"===".slice(t||3)};var p="image/svg+xml",d="image/svg+xml;base64";if("undefined"==typeof t)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");c=t.fn.jSignature,c("addPlugin","export","svg",h),c("addPlugin","export",p,h),c("addPlugin","export","svgbase64",u),c("addPlugin","export",d,u)}()}(jQuery),window.ActiveXObject&&!window.CanvasRenderingContext2D&&function(){function D(t){return((t[C+"Options"]||{}).swfPath||K)+"flashcanvas.swf"}function s(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function i(t){throw new E(t)}function F(t){var e=parseInt(t.width,10),n=parseInt(t.height,10);(isNaN(e)||0>e)&&(e=300),(isNaN(n)||0>n)&&(n=150),t.width=e,t.height=n}var G=this.document,t="canvas",C="FlashCanvas",H="onreadystatechange",n;t:{n=this.document.getElementsByTagName("script");var I="",u=n.length;if(u)for(I=n[u-1].src||"";u;){if(script=n[u-1],script.src&&script.src.match("flashcanvas")){n=8<=G.documentMode?script.src:script.getAttribute("src",4);break t}u--}n=I}var K=n.replace(/[^\/]+$/,""),e=new function(t){for(var e=0,n=t.length;e<n;e++)this[t[e]]=e}("toDataURL save restore scale rotate translate transform setTransform globalAlpha globalCompositeOperation strokeStyle fillStyle createLinearGradient createRadialGradient createPattern lineWidth lineCap lineJoin miterLimit shadowOffsetX shadowOffsetY shadowBlur shadowColor clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath font textAlign textBaseline fillText strokeText measureText drawImage createImageData getImageData putImageData addColorStop direction resize".split(" ")),v={},p={},q={},x={},y={},w=function(t,e){this.canvas=t,this._swf=e,this._canvasId=e.id.slice(8),this._initialize(),this._gradientPatternId=0,this._font=this._direction="";var n=this;this._executeCommandIntervalID=setInterval(function(){for(var t=n.canvas,e=!1,t=t.parentNode;t&&!e;)e=t.body,t=t.parentNode;e?0===q[n._canvasId]&&n._executeCommand():clearInterval(n._executeCommandIntervalID)},30)};w.prototype={save:function(){this._setCompositing(),this._setShadows(),this._setStrokeStyle(),this._setFillStyle(),this._setLineStyles(),this._setFontStyles(),this._stateStack.push([this._globalAlpha,this._globalCompositeOperation,this._strokeStyle,this._fillStyle,this._lineWidth,this._lineCap,this._lineJoin,this._miterLimit,this._shadowOffsetX,this._shadowOffsetY,this._shadowBlur,this._shadowColor,this._font,this._textAlign,this._textBaseline]),this._queue.push(e.save)},restore:function(){var t=this._stateStack;t.length&&(t=t.pop(),this.globalAlpha=t[0],this.globalCompositeOperation=t[1],this.strokeStyle=t[2],this.fillStyle=t[3],this.lineWidth=t[4],this.lineCap=t[5],this.lineJoin=t[6],this.miterLimit=t[7],this.shadowOffsetX=t[8],this.shadowOffsetY=t[9],this.shadowBlur=t[10],this.shadowColor=t[11],this.font=t[12],this.textAlign=t[13],this.textBaseline=t[14]),this._queue.push(e.restore)},scale:function(t,n){this._queue.push(e.scale,t,n)},rotate:function(t){this._queue.push(e.rotate,t)},translate:function(t,n){this._queue.push(e.translate,t,n)},transform:function(t,n,i,o,r,s){this._queue.push(e.transform,t,n,i,o,r,s)},setTransform:function(t,n,i,o,r,s){this._queue.push(e.setTransform,t,n,i,o,r,s)},_setCompositing:function(){var t=this._queue;this._globalAlpha!==this.globalAlpha&&(this._globalAlpha=this.globalAlpha,t.push(e.globalAlpha,this._globalAlpha)),this._globalCompositeOperation!==this.globalCompositeOperation&&(this._globalCompositeOperation=this.globalCompositeOperation,t.push(e.globalCompositeOperation,this._globalCompositeOperation))},_setStrokeStyle:function(){if(this._strokeStyle!==this.strokeStyle){var t=this._strokeStyle=this.strokeStyle;if("string"!=typeof t){if(!(t instanceof r||t instanceof z))return;t=t.id}this._queue.push(e.strokeStyle,t)}},_setFillStyle:function(){if(this._fillStyle!==this.fillStyle){var t=this._fillStyle=this.fillStyle;if("string"!=typeof t){if(!(t instanceof r||t instanceof z))return;t=t.id}this._queue.push(e.fillStyle,t)}},createLinearGradient:function(t,n,o,s){return(!isFinite(t)||!isFinite(n)||!isFinite(o)||!isFinite(s))&&i(9),this._queue.push(e.createLinearGradient,t,n,o,s),new r(this)},createRadialGradient:function(t,n,o,s,a,h){return(!isFinite(t)||!isFinite(n)||!isFinite(o)||!isFinite(s)||!isFinite(a)||!isFinite(h))&&i(9),(0>o||0>h)&&i(1),this._queue.push(e.createRadialGradient,t,n,o,s,a,h),new r(this)},createPattern:function(n,o){n||i(17);var r,a=n.tagName,h=this._canvasId;if(a)if(a=a.toLowerCase(),"img"===a)r=n.getAttribute("src",2);else{if(a===t||"video"===a)return;i(17)}else n.src?r=n.src:i(17);return"repeat"===o||"no-repeat"===o||"repeat-x"===o||"repeat-y"===o||""===o||null===o||i(12),this._queue.push(e.createPattern,s(r),o),!p[h][r]&&v[h]&&(this._executeCommand(),++q[h],p[h][r]=!0),new z(this)},_setLineStyles:function(){var t=this._queue;this._lineWidth!==this.lineWidth&&(this._lineWidth=this.lineWidth,t.push(e.lineWidth,this._lineWidth)),this._lineCap!==this.lineCap&&(this._lineCap=this.lineCap,t.push(e.lineCap,this._lineCap)),this._lineJoin!==this.lineJoin&&(this._lineJoin=this.lineJoin,t.push(e.lineJoin,this._lineJoin)),this._miterLimit!==this.miterLimit&&(this._miterLimit=this.miterLimit,t.push(e.miterLimit,this._miterLimit))},_setShadows:function(){var t=this._queue;this._shadowOffsetX!==this.shadowOffsetX&&(this._shadowOffsetX=this.shadowOffsetX,t.push(e.shadowOffsetX,this._shadowOffsetX)),this._shadowOffsetY!==this.shadowOffsetY&&(this._shadowOffsetY=this.shadowOffsetY,t.push(e.shadowOffsetY,this._shadowOffsetY)),this._shadowBlur!==this.shadowBlur&&(this._shadowBlur=this.shadowBlur,t.push(e.shadowBlur,this._shadowBlur)),this._shadowColor!==this.shadowColor&&(this._shadowColor=this.shadowColor,t.push(e.shadowColor,this._shadowColor))},clearRect:function(t,n,i,o){this._queue.push(e.clearRect,t,n,i,o)},fillRect:function(t,n,i,o){this._setCompositing(),this._setShadows(),this._setFillStyle(),this._queue.push(e.fillRect,t,n,i,o)},strokeRect:function(t,n,i,o){this._setCompositing(),this._setShadows(),this._setStrokeStyle(),this._setLineStyles(),this._queue.push(e.strokeRect,t,n,i,o)},beginPath:function(){this._queue.push(e.beginPath)},closePath:function(){this._queue.push(e.closePath)},moveTo:function(t,n){this._queue.push(e.moveTo,t,n)},lineTo:function(t,n){this._queue.push(e.lineTo,t,n)},quadraticCurveTo:function(t,n,i,o){this._queue.push(e.quadraticCurveTo,t,n,i,o)},bezierCurveTo:function(t,n,i,o,r,s){this._queue.push(e.bezierCurveTo,t,n,i,o,r,s)},arcTo:function(t,n,o,r,s){0>s&&isFinite(s)&&i(1),this._queue.push(e.arcTo,t,n,o,r,s)},rect:function(t,n,i,o){this._queue.push(e.rect,t,n,i,o)},arc:function(t,n,o,r,s,a){0>o&&isFinite(o)&&i(1),this._queue.push(e.arc,t,n,o,r,s,a?1:0)},fill:function(){this._setCompositing(),this._setShadows(),this._setFillStyle(),this._queue.push(e.fill)},stroke:function(){this._setCompositing(),this._setShadows(),this._setStrokeStyle(),this._setLineStyles(),this._queue.push(e.stroke)},clip:function(){this._queue.push(e.clip)},isPointInPath:function(){},_setFontStyles:function(){var t=this._queue;if(this._font!==this.font)try{var n=y[this._canvasId];n.style.font=this._font=this.font;var i=n.currentStyle,o=[i.fontStyle,i.fontWeight,n.offsetHeight,i.fontFamily].join(" ");t.push(e.font,o)}catch(t){}this._textAlign!==this.textAlign&&(this._textAlign=this.textAlign,t.push(e.textAlign,this._textAlign)),this._textBaseline!==this.textBaseline&&(this._textBaseline=this.textBaseline,t.push(e.textBaseline,this._textBaseline)),this._direction!==this.canvas.currentStyle.direction&&(this._direction=this.canvas.currentStyle.direction,t.push(e.direction,this._direction))},fillText:function(t,n,i,o){this._setCompositing(),this._setFillStyle(),this._setShadows(),this._setFontStyles(),this._queue.push(e.fillText,s(t),n,i,void 0===o?1/0:o)},strokeText:function(t,n,i,o){this._setCompositing(),this._setStrokeStyle(),this._setShadows(),this._setFontStyles(),this._queue.push(e.strokeText,s(t),n,i,void 0===o?1/0:o)},measureText:function(t){var e=y[this._canvasId];try{e.style.font=this.font}catch(t){}return e.innerText=t.replace(/[ \n\f\r]/g,"\t"),new L(e.offsetWidth)},drawImage:function(n,o,r,a,h,u,c,l,d){n||i(17);var f,g=n.tagName,y=arguments.length,m=this._canvasId;if(g)if(g=g.toLowerCase(),"img"===g)f=n.getAttribute("src",2);else{if(g===t||"video"===g)return;i(17)}else n.src?f=n.src:i(17);if(this._setCompositing(),this._setShadows(),f=s(f),3===y)this._queue.push(e.drawImage,y,f,o,r);else if(5===y)this._queue.push(e.drawImage,y,f,o,r,a,h);else{if(9!==y)return;(0===a||0===h)&&i(1),this._queue.push(e.drawImage,y,f,o,r,a,h,u,c,l,d)}!p[m][f]&&v[m]&&(this._executeCommand(),++q[m],p[m][f]=!0)},createImageData:function(){},getImageData:function(){},putImageData:function(){},loadImage:function(t,n,i){var o,r=t.tagName,a=this._canvasId;r?"img"===r.toLowerCase()&&(o=t.getAttribute("src",2)):t.src&&(o=t.src),o&&!p[a][o]&&((n||i)&&(x[a][o]=[t,n,i]),this._queue.push(e.drawImage,1,s(o)),v[a]&&(this._executeCommand(),++q[a],p[a][o]=!0))},_initialize:function(){this.globalAlpha=this._globalAlpha=1,this.globalCompositeOperation=this._globalCompositeOperation="source-over",this.fillStyle=this._fillStyle=this.strokeStyle=this._strokeStyle="#000000",this.lineWidth=this._lineWidth=1,this.lineCap=this._lineCap="butt",this.lineJoin=this._lineJoin="miter",this.miterLimit=this._miterLimit=10,this.shadowBlur=this._shadowBlur=this.shadowOffsetY=this._shadowOffsetY=this.shadowOffsetX=this._shadowOffsetX=0,this.shadowColor=this._shadowColor="rgba(0, 0, 0, 0.0)",this.font=this._font="10px sans-serif",this.textAlign=this._textAlign="start",this.textBaseline=this._textBaseline="alphabetic",this._queue=[],this._stateStack=[]},_flush:function(){var t=this._queue;return this._queue=[],t},_executeCommand:function(){var a=this._flush();if(0<a.length)try{return eval(this._swf.CallFunction('<invoke name="executeCommand" returntype="javascript"><arguments><string>'+a.join("&#0;")+"</string></arguments></invoke>"))}catch(t){}},_resize:function(t,n){this._executeCommand(),this._initialize(),0<t&&(this._swf.width=t),0<n&&(this._swf.height=n),this._queue.push(e.resize,t,n)}};var r=function(t){this._ctx=t,this.id=t._gradientPatternId++};r.prototype={addColorStop:function(t,n){(isNaN(t)||0>t||1<t)&&i(1),this._ctx._queue.push(e.addColorStop,this.id,t,n)}};var z=function(t){this.id=t._gradientPatternId++},L=function(t){this.width=t},E=function(t){this.code=t,this.message={1:"INDEX_SIZE_ERR",9:"NOT_SUPPORTED_ERR",11:"INVALID_STATE_ERR",12:"SYNTAX_ERR",17:"TYPE_MISMATCH_ERR",18:"SECURITY_ERR"}[t]};E.prototype=Error();var J="initElement",m={registeredEvents:{},canvases:{},initWindow:function(e){function n(){if("complete"===e.document.readyState){e.document.detachEvent(H,n);for(var i=e.document.getElementsByTagName(t),o=0,r=i.length;o<r;++o)m[J](i[o])}}var i=e.document;i.createElement(t),i.createStyleSheet().cssText=t+"{display:inline-block;overflow:hidden;width:300px;height:150px}";var o=this.canvases,s=this.registeredEvents,a=function(){e.detachEvent("onunload",a);var t,n,i,r,h,u,c;for(c in o)if(t=o[c],n=t.firstChild,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView:t.ownerDocument.parentWindow,e===r){for(i in n)"function"==typeof n[i]&&(n[i]=null);for(i in t)"function"==typeof t[i]&&(t[i]=null);for(r=0,h=s[c].length;r!==h;r++)u=s[c][r],n.detachEvent(u[0],u[1]),t.detachEvent(u[0],u[1])}e.CanvasRenderingContext2D=null,e.CanvasGradient=null,e.CanvasPattern=null,e[C]=null};e.attachEvent("onunload",a),e.CanvasRenderingContext2D=w,e.CanvasGradient=r,e.CanvasPattern=z,e[C]=m;var h=D(e);0===h.indexOf(e.location.protocol+"//"+e.location.host+"/")&&e.setTimeout(function(){var t=new ActiveXObject("Microsoft.XMLHTTP");t.open("GET",h,!1),t.send(null)},0),"complete"===e.document.readyState?n():e.document.attachEvent(H,n)}};m[J]=function(t){if(t.getContext)return t;var n=t.ownerDocument,i=n.defaultView?n.defaultView:n.parentWindow;i.CanvasRenderingContext2D||this.initWindow(i);var o=Math.random().toString(36).slice(2)||"0",r="external"+o;v[o]=!1,p[o]={},q[o]=1,x[o]={},this.registeredEvents[o]=[],F(t);var s=D(i);t.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+("https:"===i.location.protocol?"https:":"http:")+'//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="100%" height="100%" id="'+r+'"><param name="allowScriptAccess" value="always"><param name="flashvars" value="id='+r+'"><param name="wmode" value="transparent"></object><span style="margin:0;padding:0;border:0;display:inline-block;position:static;height:1em;overflow:visible;white-space:nowrap"></span>',this.canvases[o]=t;var a=t.firstChild;y[o]=t.lastChild;var h=n.body.contains;if(h(t))a.movie=s;else var u=i.setInterval(function(){h(t)&&(i.clearInterval(u),a.movie=s)},2);"BackCompat"!==n.compatMode&&i.XMLHttpRequest||(y[o].style.overflow="hidden");var c=new w(t,a);return t.getContext=function(t){return"2d"===t?c:null},t.toDataURL=function(t,n){return"image/jpeg"===(""+t).toLowerCase()?c._queue.push(e.toDataURL,t,"number"==typeof n?n:""):c._queue.push(e.toDataURL,t),c._executeCommand()},n=function(t){var t=t?t.srcElement:i.event.srcElement,e=t.parentNode;t.blur(),e.focus()},this.registeredEvents[o].push(["onfocus",n]),a.attachEvent("onfocus",n),t},m.saveImage=function(t){t.firstChild.saveImage()},m.setOptions=function(){},m.trigger=function(t,e){this.canvases[t].fireEvent("on"+e)},m.unlock=function(t,e,n){try{var i,o,r,s,a,h,u,c,l;void 0===e?(i=this.canvases[t],o=i.firstChild,c=i.ownerDocument,l=c.defaultView?c.defaultView:c.parentWindow,F(i),r=i.width,s=i.height,i.style.width=r+"px",i.style.height=s+"px",0<r&&(o.width=r),0<s&&(o.height=s),o.resize(r,s),e=function(t){var t=t?t:l.event,e=t.propertyName;if("width"===e||"height"===e){var t=t.srcElement,n=t[e],i=parseInt(n,10);(isNaN(i)||0>i)&&(i="width"===e?300:150),n===i?(t.style[e]=i+"px",t.getContext("2d")._resize(t.width,t.height)):t[e]=i}},this.registeredEvents[t].push(["onpropertychange",e]),i.attachEvent("onpropertychange",e),v[t]=!0,"function"==typeof i.onload&&l.setTimeout(function(){i.onload()},0)):(a=x[t][e])&&(h=a[0],u=a[1+n],delete x[t][e],"function"==typeof u&&u.call(h)),q[t]&&--q[t]}catch(t){throw console.log("Call to FlashCanvas.unlock had thrown an error: ",t.message),t}},m.initWindow(this,G),keep=[w.measureText,w.loadImage]}.call(window);