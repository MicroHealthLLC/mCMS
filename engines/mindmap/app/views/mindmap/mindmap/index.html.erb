<%= stylesheet_link_tag 'mindmap/application' %>
<div class="row">
  <div class="col-xs-12">
    <div id="layout">
      <div id="jsmind_nav">
        <div id="file_menu">
          <button id="openSliderbtn" class="iconbtn" title="Open Maps Listing and Search Panel"><%= image_tag "mindmap/glyphicons-115-list.png", class:"wh20x18" %></button>
          <button class="iconbtn" title="New Map" onclick="newmap();"><%= image_tag "mindmap/glyphicons-703-file-plus.png", class:"wh21x20" %></button>
          <button class="iconbtn" title="Save Map" id="savebtn" onclick="savemap();"><%= image_tag "mindmap/glyphicons-447-floppy-save.png" , class:"wh19x19" %></button>
          <button class="iconswbtn" title="Open Import Export Panel" onclick="open_export_import();"><%= image_tag "mindmap/glyphicons-359-file-import.png" , class: "wh18x19" %> <%= image_tag "mindmap/glyphicons-360-file-export.png" , class: "wh18x19" %></button>
          <button class="iconswbtn" title="Toggle Map Editing Disabled or Enabled" onclick="toggle_editable(this);"><%= image_tag "mindmap/glyphicons-199-ok-circle.png" , class: "wh22x22" %> <%= image_tag "mindmap/glyphicons-31-pencil.png" , class: "wh18x18" %></button>
          <button class="iconbtn" id="zoom-in-button" title="Zoom In" onclick="zoomIn();"><%= image_tag "mindmap/glyphicons-215-resize-small.png" , class: "wh18x18" %></button>
          <button class="iconbtn" id="zoom-out-button" title="Zoom Out" onclick="zoomOut();"><%= image_tag "mindmap/glyphicons-216-resize-full.png" , class: "wh18x18" %></button>
        </div>
        <div id="expand_level">
          <button class="iconsbtn" title="Expand Children Nodes to Level 2" onclick="expand_to_level2();"><%= image_tag "mindmap/glyphicons-388-log-out.png" , class: "wh18x15" %> <%= image_tag "mindmap/glyphicons-388-log-out.png" , class: "wh18x15" %></button>
          <button class="iconswbtn" title="Expand Children Nodes to Level 3" onclick="expand_to_level3();"><%= image_tag "mindmap/glyphicons-388-log-out.png" , class: "wh18x15" %> <%= image_tag "mindmap/glyphicons-388-log-out.png" , class: "wh18x15" %> <%= image_tag "mindmap/glyphicons-388-log-out.png" , class: "wh18x15" %></button>
        </div>
        <div id="nodes_menu">
          <button class="iconsbtn" title="Add a Text Node" onclick="add_node();" %><%= image_tag "mindmap/glyphicons-433-plus.png" , class: "wh10x10" %> <%= image_tag "mindmap/glyphicons-154-unchecked.png" %></button>
          <button class="iconsbtn" title="Add an Image Node" onclick="add_image_node();"><%= image_tag "mindmap/glyphicons-433-plus.png" , class: "wh10x10" %> <%= image_tag "mindmap/glyphicons-139-picture.png" , class: "wh20x18" %></button>
          <button class="iconsbtn" title="Edit Node Text" onclick="edit_node_text();"><%= image_tag "mindmap/glyphicons-151-edit.png" %></button>
          <sup><button type="button" title="Open Colorpicker and Display Node Active Background Color" id="colorpickerbtn" value="#0000cd" onclick="open_color_picker();" >
          </button></sup>
          <button class="iconbtn" id="changebgcolorbtn" title="Change Node Background Color to Active Color" onclick="change_background_color();"><%= image_tag "mindmap/glyphicons-607-text-background.png" , class: "wh21x20" %></button>
          <button class="iconswbtn" title="Change Node Text Color Toggled Black or White" onclick="change_text_color();"><sup><strong>B/W</strong></sup> <%= image_tag "mindmap/glyphicons-606-text-color.png" , class: "wh19x19" %></button>
          <button class="iconsbtn" title="Set Node as First Child" onclick="move_to_first();"><%= image_tag "mindmap/glyphicons-154-unchecked.png" %> <%= image_tag "mindmap/glyphicons-188-more.png" , class: "wh12x4" %></button>
          <button class="iconsbtn" title="Set Node as Last Child" onclick="move_to_last();"><%= image_tag "mindmap/glyphicons-188-more.png" , class: "wh12x4" %> <%= image_tag "mindmap/glyphicons-154-unchecked.png" %></button>
          <button class="iconsbtn" title="Remove This Node" onclick="remove_node();"><%= image_tag "mindmap/glyphicons-208-remove.png" , class: "wh10x10"%> <%= image_tag "mindmap/glyphicons-154-unchecked.png" %></button>
          <button class="iconswbtn" title="Toggle Children Shown or Hidden" onclick="toggle();"><%= image_tag "mindmap/glyphicons-545-eye-plus.png" , class: "wh26x18" %> <%= image_tag "mindmap/glyphicons-546-eye-minus.png" , class: "wh26x18" %></button>
          <button class="iconsbtn" title="Toggle All Children Nodes" id="collapse_expand_btn" onclick="collapse_expand_all();"><sup><%= image_tag "mindmap/glyphicons-172-fast-backward.png" , class: "wh13x9" %></sup> <%= image_tag "mindmap/glyphicons-154-unchecked.png" %></button>
        </div>
      </div>
      <div id="mapslistingdiv">
        <div id="list_search" class="slide slide-up">
          <p><span id="list_name"><span id="mh">MH</span>Mind</span></p>
          <input type="search" id="searchmaps" name="searchmaps" />
          <button class="flrtbtn iconbtn maplistbtn" title="Search Listing" onclick="findmap();"><%= image_tag "mindmap/glyphicons-28-search.png" , class: "wh18x18" %></button>
          <div id="maplisting">
          </div>
          <button id="closeSliderbtn" class="iconbtn maplistbtn flrtbtn" title="Close Maps Listing and Search Panel"><%= image_tag "mindmap/glyphicons-370-collapse-top.png", class:"flipimg" %></button><br>
          <div id="warndiv">
            <p>* Warning: Default Topic</p>
          </div>
        </div>
      </div>
      <div id="export_import">
        <button class="flrtbtn iconbtn" title="Close Import Export Panel" onclick="close_export_import();"><%= image_tag "mindmap/glyphicons-370-collapse-top.png" %></button>
        <div id="expside">
          <span class="smtext">download file: </span>
          <button class="iconsxbtn" title="Download Map as JSON File" onclick="save_file();"><%= image_tag "mindmap/glyphicons-201-download.png" , class: "wh22x22" %> <sup><strong>JSON file</strong></sup></button>
          <button class="iconsxbtn" title="Download Screenshot of Map" onclick="screen_shot();"><%= image_tag "mindmap/glyphicons-201-download.png" , class: "wh22x22" %> <sup><strong>screenshot</strong></sup></button>
        </div>
        <div id="impside">
          <span class="smtext">import file: </span>
          <input id="file_input" class="file_input" type="file"/>
          <button class="iconbtn" title="Upload User JSON Map File" onclick="open_file();"><%= image_tag "mindmap/glyphicons-202-upload.png" , class: "wh22x22" %></button>
        </div>
      </div>
      <div id="colorpicker">
        <table>
          <tbody id="selcolors">
          </tbody>
        </table>
        <button class="iconbtn flrtbtn" id="close_colorpicker" title="Toggle Color Picker Panel" onclick="close_color_picker();"><%= image_tag "mindmap/glyphicons-370-collapse-top.png" %></button>
      </div>
    </div>


    <div id="jsmind_container"></div>
    <div style="display:none">
      <input class="file" type="file" id="image-chooser" accept="image/*"/>
    </div>
    <script>
      <% if  @mindmap.content %>
      localStorage.setItem("thesemhminds1", <%= @mindmap.content.inspect.html_safe %> )
      <% else  %>
      localStorage.setItem("thesemhminds1", "");
      <% end %>

    </script>
    <%= javascript_include_tag "mindmap/application" %>
  </div>
</div>