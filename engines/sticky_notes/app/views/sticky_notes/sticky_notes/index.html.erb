<%= stylesheet_link_tag "sticky_note/application", media: "all" %>

<div class="module-title">
  <h2 class='module-title-text'>MY STICKY NOTES</h2>
</div>

<div class="row">
  <div class="col-xs-12">
    <div class="col-xs-12 btn-editable">
      <div class="btn-group">
        <button type="button" class="btn btn-primary dropdown-toggle actions-tab" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">ACTIONS <span class="caret"></span></button>
        <ul class="dropdown-menu dropdown-links" role="menu">
          <li>
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
              <a href="javascript:;" class="dropdown-item" id="add_note">Add New Note</a>
          </li>
          <div class='dropdown-item-dividier'></div>

          <li>
            <span class="glyphicon glyphicon-export" aria-hidden="true"></span>
            <a href="javascript:;" class="dropdown-item" id="export_notes">Export Notes</a>
          </li>
          <div class='dropdown-item-dividier'></div>

          <li>
            <span class="glyphicon glyphicon-import" aria-hidden="true"></span>
            <a href="javascript:;" class="dropdown-item" id="import_notes">Import Notes</a>
          </li>
          <div class='dropdown-item-dividier'></div>

          <li>
            <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
            <a href="javascript:;" class="dropdown-item" id="reset_notes">Reset</a>
          </li>
          <div class='dropdown-item-dividier'></div>

          <li>
            <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
            <a href="javascript:;" class="dropdown-item" id="btn_save">Save</a>
          </li>
        </ul>
      </div>
    </div>
    <div id="board">
    </div>

    <a id="downloadAnchorElem" style="display:none"></a>

    <div id="importnotes" hidden>
      <h4>Upload File</h4>
      <form id="upload_form" enctype="multipart/form-data" action="" method="post">
        <input type="file" id="loadjson" name="files[]" multiple/>
        <textarea hidden id="preview" name="preview" rows="5"></textarea><br>
        <!-- <textarea id="preview" rows="5"></textarea><br> -->
        <a href="javascript:;" class="button" id="submit_upload">Submit</a>
        <a href="javascript:;" class="button" id="cancel_upload">Cancel</a>
      </form>
    </div>

    <footer id="footerdiv">
      <a href="javascript:;" class="button" id="to_top">To Top</a>
    </footer>
  </div>
</div>
<script>

  var thesenotes = <%= @todos.todos.to_s.inspect.html_safe %>;
  localStorage.setItem("thesenotes", thesenotes);
</script>
<%= javascript_include_tag "sticky_note/application" %>
