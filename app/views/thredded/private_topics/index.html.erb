<% content_for :thredded_page_title, t('thredded.nav.private_topics') %>
<% content_for :thredded_page_id, 'private-topics-index' %>
<% content_for :thredded_breadcrumbs, render('thredded/private_topics/breadcrumbs') %>

<%= thredded_page do %>
  <%= content_tag :section,
    class: 'main-section private-topics',
    'data-thredded-topics' => true do %>

    <% if @private_topics.empty? -%>
      <%= render 'thredded/private_topics/no_private_topics' %>
    <% else -%>
      <%= render 'thredded/private_topics/form',
        messageboard:  messageboard,
        private_topic: @new_private_topic,
        css_class:     'is-compact',
        placeholder:   t('thredded.private_topics.form.title_placeholder_start') %>

      <%= render @private_topics %>

      <%= link_to t('thredded.nav.mark_all_read'),
        mark_all_private_topics_read_path,
        class: 'button button-light button-wide',
        method: :put -%>
    <% end -%>
  <% end %>

  <footer>
    <%= paginate @private_topics %>
  </footer>
<% end %>
