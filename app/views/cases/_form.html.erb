<fieldset>
  <legend></legend>
  <%= simple_form_for(@case, html: { class: 'form-horizontal' }) do |f| %>
      <%= f.error_notification %>

      <%= f.hidden_field :subcase_id %>
      <div class="form-group">
        <div class="col-md-3 pull-right">
          <label class="toggle">
            <%= f.check_box :is_private %>
            <i data-swchon-text="ON" data-swchoff-text="OFF"></i><%= f.label t(:private) %>
          </label>
        </div>
      </div>

      <div class="form-group">
        <%= f.label t('title'), class: 'col-md-2 control-label' %>
        <div class="col-md-9">
          <%= f.text_field :title , class: 'form-control' %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label t(:label_note) , class: 'col-md-2 control-label' %>
        <div class="col-md-9">
          <%= f.text_area :note , class: 'form-control ck-editor' %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label 'Case Status', class: 'col-md-2 control-label' %>
        <div class="col-md-9">
          <%= f.select :case_status_type_id, options_for_select(CaseStatusType.active.pluck(:name, :id), selected: f.object.case_status_type.try(:id)) , {}, {class: 'col-xs-12 use_select2', style: 'padding: 0' } %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label t('case_category'), class: 'col-md-2 control-label' %>
        <div class="col-md-9">
          <%= f.select :case_category_id, options_for_select(CaseCategoryType.active.pluck(:name, :id), selected: f.object.case_category_type.try(:id)) , {include_blank: true}, {class: 'col-xs-12 use_select2', style: 'padding: 0' } %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label t('enumeration_case_source'), class: 'col-md-2 control-label' %>
        <div class="col-md-9">
          <%= select_tag 'case[case_source_id]', options_for_select(CaseSource.active.pluck(:name, :id), selected: f.object.case_source.try(:id)) ,  {class: 'col-xs-12 use_select2', style: 'padding: 0' } %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label t(:priority) , class: 'col-md-2 control-label' %>
        <div class="col-md-9">
          <%= f.select :priority_id, options_for_select(PriorityType.active.pluck(:name, :id), selected: f.object.priority_type.try(:id)), {include_blank: true} , {class: 'form-control'} %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label t(:assigned_to) , class: 'col-md-2 control-label' %>
        <div class="col-md-9">
          <%= f.select :assigned_to_id, options_for_select(User.power_user.map{|user| [user.name, user.id]}, selected: f.object.assigned_to_id), {include_blank: true} , {class: 'form-control use_select2', style: 'padding: 0' } %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label t(:case_type) , class: 'col-md-2 control-label' %>
        <div class="col-md-9">
          <%= f.select :case_type_id, options_for_select(CaseType.active.pluck(:name, :id), selected: f.object.case_type.try(:id)), {include_blank: true} , {class: 'form-control'} %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label t(:date_start) , class: 'col-md-2 control-label' %>
        <div class="col-md-9">
          <%= f.text_field :date_start, as: :string, class: 'form-control date_picker' %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label t('date_due') , class: 'col-md-2 control-label' %>
        <div class="col-md-9">
          <%= f.text_field :date_due , class: 'form-control date_picker' %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label t(:date_completed) , class: 'col-md-2 control-label' %>
        <div class="col-md-9">
          <%= f.text_field :date_completed , class: 'form-control date_picker' %>
        </div>
      </div>

      <div class="form-group" >
        <div class="col-md-11">
          <% if @case.subcase_id %>
            <%= link_to t('button_cancel'), case_back_url(@case) + '#tabs-subcases', class: 'btn btn-warning pull-right' %>
          <% else %>            
            <%= link_to t('button_cancel'), case_back_url(f.object), class: 'btn btn-warning pull-right' %>
          <% end %>
          <%= f.submit t('button_save'), class: 'btn btn-success pull-right' %>
        </div>
      </div>

  <% end %>
</fieldset>
